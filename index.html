<!doctype html>
<html lang="pl" data-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=no"
        />
        <title>klefas.me â€” Strona w budowie ğŸš§</title>
        <meta
            name="description"
            content="Strona klefas.me jest aktualnie w budowie. Zapraszam wkrÃ³tce! W miÄ™dzyczasie zagraj w 2048."
        />
        <!-- Open Graph / Social -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://klefas.me/" />
        <meta property="og:title" content="klefas.me â€” Strona w budowie ğŸš§" />
        <meta
            property="og:description"
            content="PracujÄ™ nad czymÅ› wyjÄ…tkowym. Zapraszam wkrÃ³tce â€” a w miÄ™dzyczasie zagraj w 2048! ğŸ®"
        />
        <meta property="og:image" content="https://klefas.me/og-image.png" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="klefas.me â€” Strona w budowie ğŸš§" />
        <meta
            name="twitter:description"
            content="PracujÄ™ nad czymÅ› wyjÄ…tkowym. Zapraszam wkrÃ³tce â€” a w miÄ™dzyczasie zagraj w 2048! ğŸ®"
        />
        <meta
            name="theme-color"
            content="#0a0a0f"
            media="(prefers-color-scheme: dark)"
        />
        <meta
            name="theme-color"
            content="#f0f0f5"
            media="(prefers-color-scheme: light)"
        />
        <link rel="canonical" href="https://klefas.me/" />
        <link
            rel="icon"
            href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš€</text></svg>"
        />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <style>
            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CSS VARIABLES & THEME SYSTEM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            :root {
                --transition-speed: 0.35s;
            }

            [data-theme="dark"] {
                --bg-primary: #0a0a0f;
                --bg-secondary: #12121a;
                --bg-card: #1a1a2e;
                --bg-card-hover: #222240;
                --bg-game: #16213e;
                --bg-cell: #1a1a2e;
                --text-primary: #e8e8f0;
                --text-secondary: #9090a8;
                --text-muted: #5a5a72;
                --accent: #6c63ff;
                --accent-glow: rgba(108, 99, 255, 0.3);
                --accent-secondary: #ff6b9d;
                --border: rgba(255, 255, 255, 0.06);
                --shadow: rgba(0, 0, 0, 0.4);
                --particle-color: rgba(108, 99, 255, 0.15);
                --glass: rgba(26, 26, 46, 0.7);
                --glass-border: rgba(255, 255, 255, 0.08);
                --scrollbar-track: #12121a;
                --scrollbar-thumb: #2a2a40;
                --construction-stripe1: rgba(255, 193, 7, 0.08);
                --construction-stripe2: transparent;
                --tile-2: #2a2a4a;
                --tile-2-text: #e8e8f0;
                --tile-4: #33335a;
                --tile-4-text: #e8e8f0;
                --tile-8: #5b4bb8;
                --tile-8-text: #ffffff;
                --tile-16: #6c63ff;
                --tile-16-text: #ffffff;
                --tile-32: #7c6fff;
                --tile-32-text: #ffffff;
                --tile-64: #ff6b9d;
                --tile-64-text: #ffffff;
                --tile-128: #ff5277;
                --tile-128-text: #ffffff;
                --tile-256: #ffc107;
                --tile-256-text: #1a1a2e;
                --tile-512: #ff9800;
                --tile-512-text: #ffffff;
                --tile-1024: #f44336;
                --tile-1024-text: #ffffff;
                --tile-2048: #e91e63;
                --tile-2048-text: #ffffff;
                --tile-super: linear-gradient(135deg, #6c63ff, #ff6b9d);
                --tile-super-text: #ffffff;
            }

            [data-theme="light"] {
                --bg-primary: #f0f0f5;
                --bg-secondary: #e8e8f0;
                --bg-card: #ffffff;
                --bg-card-hover: #f5f5ff;
                --bg-game: #e8e0d8;
                --bg-cell: #cdc1b4;
                --text-primary: #1a1a2e;
                --text-secondary: #5a5a72;
                --text-muted: #9090a8;
                --accent: #6c63ff;
                --accent-glow: rgba(108, 99, 255, 0.15);
                --accent-secondary: #ff6b9d;
                --border: rgba(0, 0, 0, 0.08);
                --shadow: rgba(0, 0, 0, 0.1);
                --particle-color: rgba(108, 99, 255, 0.08);
                --glass: rgba(255, 255, 255, 0.7);
                --glass-border: rgba(0, 0, 0, 0.06);
                --scrollbar-track: #e8e8f0;
                --scrollbar-thumb: #c0c0d0;
                --construction-stripe1: rgba(255, 193, 7, 0.12);
                --construction-stripe2: transparent;
                --tile-2: #eee4da;
                --tile-2-text: #776e65;
                --tile-4: #ede0c8;
                --tile-4-text: #776e65;
                --tile-8: #f2b179;
                --tile-8-text: #ffffff;
                --tile-16: #f59563;
                --tile-16-text: #ffffff;
                --tile-32: #f67c5f;
                --tile-32-text: #ffffff;
                --tile-64: #f65e3b;
                --tile-64-text: #ffffff;
                --tile-128: #edcf72;
                --tile-128-text: #ffffff;
                --tile-256: #edcc61;
                --tile-256-text: #ffffff;
                --tile-512: #edc850;
                --tile-512-text: #ffffff;
                --tile-1024: #edc53f;
                --tile-1024-text: #ffffff;
                --tile-2048: #edc22e;
                --tile-2048-text: #ffffff;
                --tile-super: linear-gradient(135deg, #6c63ff, #ff6b9d);
                --tile-super-text: #ffffff;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BASE RESET & GLOBAL STYLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            *,
            *::before,
            *::after {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html {
                scroll-behavior: smooth;
            }

            body {
                font-family:
                    "Inter",
                    -apple-system,
                    BlinkMacSystemFont,
                    sans-serif;
                background: var(--bg-primary);
                color: var(--text-primary);
                min-height: 100vh;
                overflow-x: hidden;
                transition:
                    background var(--transition-speed) ease,
                    color var(--transition-speed) ease;
            }

            ::-webkit-scrollbar {
                width: 8px;
            }
            ::-webkit-scrollbar-track {
                background: var(--scrollbar-track);
            }
            ::-webkit-scrollbar-thumb {
                background: var(--scrollbar-thumb);
                border-radius: 4px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: var(--accent);
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ANIMATED BACKGROUND PARTICLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            #particles-canvas {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 0;
                pointer-events: none;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CONSTRUCTION STRIPE HEADER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .construction-stripe {
                width: 100%;
                height: 6px;
                background: repeating-linear-gradient(
                    45deg,
                    #ffc107,
                    #ffc107 10px,
                    #1a1a2e 10px,
                    #1a1a2e 20px
                );
                position: fixed;
                top: 0;
                left: 0;
                z-index: 1000;
                animation: stripeMove 1s linear infinite;
            }

            .construction-stripe-bottom {
                top: auto;
                bottom: 0;
            }

            @keyframes stripeMove {
                0% {
                    background-position: 0 0;
                }
                100% {
                    background-position: 28px 0;
                }
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NAVIGATION / TOOLBAR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .navbar {
                position: fixed;
                top: 6px;
                left: 0;
                right: 0;
                z-index: 100;
                padding: 12px 24px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                background: var(--glass);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--glass-border);
                transition: background var(--transition-speed) ease;
            }

            .navbar-brand {
                display: flex;
                align-items: center;
                gap: 10px;
                text-decoration: none;
                color: var(--text-primary);
            }

            .navbar-logo {
                width: 36px;
                height: 36px;
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-secondary)
                );
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 800;
                font-size: 16px;
                color: #fff;
                font-family: "JetBrains Mono", monospace;
            }

            .navbar-title {
                font-weight: 700;
                font-size: 18px;
                letter-spacing: -0.5px;
            }

            .navbar-actions {
                display: flex;
                align-items: center;
                gap: 8px;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           THEME TOGGLE BUTTON
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .theme-toggle {
                width: 44px;
                height: 44px;
                border-radius: 12px;
                border: 1px solid var(--border);
                background: var(--bg-card);
                color: var(--text-primary);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                transition: all 0.25s ease;
                position: relative;
                overflow: hidden;
            }

            .theme-toggle:hover {
                background: var(--bg-card-hover);
                border-color: var(--accent);
                transform: scale(1.05);
            }

            .theme-toggle:active {
                transform: scale(0.95);
            }

            .theme-toggle .icon-sun,
            .theme-toggle .icon-moon {
                position: absolute;
                transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            [data-theme="dark"] .theme-toggle .icon-sun {
                opacity: 1;
                transform: rotate(0deg) scale(1);
            }

            [data-theme="dark"] .theme-toggle .icon-moon {
                opacity: 0;
                transform: rotate(90deg) scale(0);
            }

            [data-theme="light"] .theme-toggle .icon-sun {
                opacity: 0;
                transform: rotate(-90deg) scale(0);
            }

            [data-theme="light"] .theme-toggle .icon-moon {
                opacity: 1;
                transform: rotate(0deg) scale(1);
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTENT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .main-content {
                position: relative;
                z-index: 1;
                max-width: 900px;
                margin: 0 auto;
                padding: 100px 24px 80px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HERO SECTION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .hero {
                text-align: center;
                width: 100%;
            }

            .hero-badge {
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 8px 18px;
                border-radius: 100px;
                background: var(--bg-card);
                border: 1px solid var(--border);
                font-size: 13px;
                font-weight: 500;
                color: var(--text-secondary);
                margin-bottom: 24px;
                animation: fadeInUp 0.6s ease;
            }

            .hero-badge .dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: #ffc107;
                animation: pulse 2s ease-in-out infinite;
            }

            @keyframes pulse {
                0%,
                100% {
                    opacity: 1;
                    transform: scale(1);
                }
                50% {
                    opacity: 0.5;
                    transform: scale(0.8);
                }
            }

            .hero h1 {
                font-size: clamp(2.2rem, 6vw, 3.8rem);
                font-weight: 900;
                line-height: 1.1;
                letter-spacing: -2px;
                margin-bottom: 16px;
                animation: fadeInUp 0.6s ease 0.1s both;
            }

            .hero h1 .gradient-text {
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-secondary)
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .hero-description {
                font-size: clamp(1rem, 2.5vw, 1.2rem);
                color: var(--text-secondary);
                max-width: 500px;
                margin: 0 auto 32px;
                line-height: 1.6;
                animation: fadeInUp 0.6s ease 0.2s both;
            }

            .hero-cta {
                display: flex;
                justify-content: center;
                gap: 12px;
                flex-wrap: wrap;
                animation: fadeInUp 0.6s ease 0.3s both;
            }

            .btn {
                padding: 12px 28px;
                border-radius: 12px;
                font-size: 15px;
                font-weight: 600;
                cursor: pointer;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 8px;
                transition: all 0.25s ease;
                border: none;
                font-family: inherit;
            }

            .btn-primary {
                background: linear-gradient(135deg, var(--accent), #8b7bff);
                color: #fff;
                box-shadow: 0 4px 20px var(--accent-glow);
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 30px var(--accent-glow);
            }

            .btn-secondary {
                background: var(--bg-card);
                color: var(--text-primary);
                border: 1px solid var(--border);
            }

            .btn-secondary:hover {
                background: var(--bg-card-hover);
                border-color: var(--accent);
                transform: translateY(-2px);
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           STATUS CARDS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .status-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 16px;
                width: 100%;
                animation: fadeInUp 0.6s ease 0.4s both;
            }

            .status-card {
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: 16px;
                padding: 20px;
                text-align: center;
                transition: all 0.3s ease;
            }

            .status-card:hover {
                background: var(--bg-card-hover);
                transform: translateY(-4px);
                box-shadow: 0 8px 30px var(--shadow);
            }

            .status-icon {
                font-size: 28px;
                margin-bottom: 10px;
            }

            .status-label {
                font-size: 12px;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: var(--text-muted);
                margin-bottom: 4px;
            }

            .status-value {
                font-size: 15px;
                font-weight: 700;
                color: var(--text-primary);
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           GAME SECTION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .game-section {
                width: 100%;
                animation: fadeInUp 0.6s ease 0.5s both;
            }

            .section-header {
                text-align: center;
                margin-bottom: 24px;
            }

            .section-header h2 {
                font-size: 1.6rem;
                font-weight: 800;
                letter-spacing: -1px;
                margin-bottom: 6px;
            }

            .section-header p {
                color: var(--text-secondary);
                font-size: 0.95rem;
            }

            .game-container {
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: 20px;
                padding: 24px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 16px;
            }

            /* â”€â”€ Game Header â”€â”€ */
            .game-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                width: 100%;
                max-width: 400px;
            }

            .game-title-block h3 {
                font-family: "JetBrains Mono", monospace;
                font-size: 2rem;
                font-weight: 800;
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-secondary)
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }

            .score-board {
                display: flex;
                gap: 8px;
            }

            .score-box {
                background: var(--bg-secondary);
                border: 1px solid var(--border);
                border-radius: 10px;
                padding: 6px 16px;
                text-align: center;
                min-width: 70px;
            }

            .score-box .label {
                font-size: 10px;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: var(--text-muted);
            }

            .score-box .value {
                font-family: "JetBrains Mono", monospace;
                font-size: 1.2rem;
                font-weight: 800;
                color: var(--text-primary);
            }

            /* â”€â”€ Game Grid â”€â”€ */
            .game-board {
                position: relative;
                width: 100%;
                max-width: 400px;
                aspect-ratio: 1;
                background: var(--bg-game);
                border-radius: 12px;
                padding: 8px;
                touch-action: none;
                user-select: none;
                -webkit-user-select: none;
            }

            .grid-bg {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                grid-template-rows: repeat(4, 1fr);
                gap: 8px;
                width: 100%;
                height: 100%;
            }

            .grid-cell {
                background: var(--bg-cell);
                border-radius: 8px;
            }

            .tiles-container {
                position: absolute;
                top: 8px;
                left: 8px;
                right: 8px;
                bottom: 8px;
            }

            .tile {
                position: absolute;
                display: flex;
                align-items: center;
                justify-content: center;
                font-family: "JetBrains Mono", monospace;
                font-weight: 800;
                border-radius: 8px;
                transition:
                    top 0.15s ease,
                    left 0.15s ease;
                z-index: 10;
            }

            .tile.tile-new {
                animation: tileAppear 0.25s ease;
            }

            .tile.tile-merged {
                animation: tilePop 0.3s ease;
                z-index: 20;
            }

            @keyframes tileAppear {
                0% {
                    transform: scale(0);
                    opacity: 0;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            @keyframes tilePop {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.2);
                }
                100% {
                    transform: scale(1);
                }
            }

            .tile-2 {
                background: var(--tile-2);
                color: var(--tile-2-text);
            }
            .tile-4 {
                background: var(--tile-4);
                color: var(--tile-4-text);
            }
            .tile-8 {
                background: var(--tile-8);
                color: var(--tile-8-text);
            }
            .tile-16 {
                background: var(--tile-16);
                color: var(--tile-16-text);
            }
            .tile-32 {
                background: var(--tile-32);
                color: var(--tile-32-text);
            }
            .tile-64 {
                background: var(--tile-64);
                color: var(--tile-64-text);
            }
            .tile-128 {
                background: var(--tile-128);
                color: var(--tile-128-text);
            }
            .tile-256 {
                background: var(--tile-256);
                color: var(--tile-256-text);
            }
            .tile-512 {
                background: var(--tile-512);
                color: var(--tile-512-text);
            }
            .tile-1024 {
                background: var(--tile-1024);
                color: var(--tile-1024-text);
            }
            .tile-2048 {
                background: var(--tile-2048);
                color: var(--tile-2048-text);
            }
            .tile-super {
                background: var(--tile-super);
                color: var(--tile-super-text);
            }

            /* â”€â”€ Game Controls â”€â”€ */
            .game-controls {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .game-btn {
                padding: 10px 22px;
                border-radius: 10px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                border: 1px solid var(--border);
                background: var(--bg-secondary);
                color: var(--text-primary);
                font-family: inherit;
                transition: all 0.2s ease;
                display: inline-flex;
                align-items: center;
                gap: 6px;
            }

            .game-btn:hover {
                background: var(--accent);
                color: #fff;
                border-color: var(--accent);
                transform: translateY(-2px);
            }

            .game-instructions {
                color: var(--text-muted);
                font-size: 13px;
                text-align: center;
                line-height: 1.6;
            }

            .game-instructions kbd {
                display: inline-block;
                padding: 2px 8px;
                border-radius: 5px;
                background: var(--bg-secondary);
                border: 1px solid var(--border);
                font-family: "JetBrains Mono", monospace;
                font-size: 11px;
                color: var(--text-secondary);
            }

            /* â”€â”€ Game Over / Win Overlay â”€â”€ */
            .game-overlay {
                position: absolute;
                inset: 0;
                background: rgba(0, 0, 0, 0.6);
                backdrop-filter: blur(6px);
                -webkit-backdrop-filter: blur(6px);
                border-radius: 12px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 16px;
                z-index: 100;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.4s ease;
            }

            .game-overlay.active {
                opacity: 1;
                pointer-events: auto;
            }

            .game-overlay h3 {
                font-size: 2rem;
                font-weight: 900;
                color: #fff;
            }

            .game-overlay p {
                color: rgba(255, 255, 255, 0.7);
                font-size: 1rem;
            }

            .game-overlay .game-btn {
                background: var(--accent);
                color: #fff;
                border-color: var(--accent);
            }

            /* â”€â”€ Mobile D-Pad Controls â”€â”€ */
            .mobile-controls {
                display: none;
                width: 100%;
                max-width: 200px;
                margin: 0 auto;
            }

            .dpad {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: repeat(3, 1fr);
                gap: 6px;
                width: 100%;
                aspect-ratio: 1;
            }

            .dpad-btn {
                background: var(--bg-secondary);
                border: 1px solid var(--border);
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 24px;
                color: var(--text-primary);
                cursor: pointer;
                transition: all 0.15s ease;
                -webkit-tap-highlight-color: transparent;
            }

            .dpad-btn:active {
                background: var(--accent);
                color: #fff;
                transform: scale(0.92);
            }

            .dpad-btn.empty {
                background: transparent;
                border: none;
                cursor: default;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           COUNTDOWN TIMER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .countdown-section {
                width: 100%;
                animation: fadeInUp 0.6s ease 0.35s both;
            }

            .countdown-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
                max-width: 500px;
                margin: 16px auto 0;
            }

            .countdown-item {
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: 14px;
                padding: 16px 8px;
                text-align: center;
                transition: all 0.3s ease;
            }

            .countdown-item:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 20px var(--shadow);
            }

            .countdown-value {
                font-family: "JetBrains Mono", monospace;
                font-size: clamp(1.6rem, 4vw, 2.4rem);
                font-weight: 800;
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-secondary)
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                line-height: 1.2;
            }

            .countdown-label {
                font-size: 11px;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: var(--text-muted);
                margin-top: 4px;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SOCIAL LINKS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .social-section {
                width: 100%;
                animation: fadeInUp 0.6s ease 0.55s both;
            }

            .social-grid {
                display: flex;
                justify-content: center;
                gap: 12px;
                flex-wrap: wrap;
                margin-top: 16px;
            }

            .social-link {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 12px 20px;
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: 12px;
                color: var(--text-primary);
                text-decoration: none;
                font-size: 14px;
                font-weight: 600;
                transition: all 0.25s ease;
            }

            .social-link:hover {
                background: var(--bg-card-hover);
                border-color: var(--accent);
                transform: translateY(-3px);
                box-shadow: 0 6px 20px var(--shadow);
            }

            .social-link svg {
                width: 20px;
                height: 20px;
                flex-shrink: 0;
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TYPING ANIMATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .typing-text {
                font-family: "JetBrains Mono", monospace;
                font-size: 14px;
                color: var(--text-muted);
                display: inline-flex;
                align-items: center;
                gap: 2px;
                margin-top: 12px;
            }

            .typing-cursor {
                display: inline-block;
                width: 2px;
                height: 1.2em;
                background: var(--accent);
                animation: blink 1s step-end infinite;
                margin-left: 2px;
            }

            @keyframes blink {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0;
                }
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCORE POPUP ANIMATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .score-popup {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-family: "JetBrains Mono", monospace;
                font-size: 2rem;
                font-weight: 900;
                color: var(--accent);
                pointer-events: none;
                z-index: 200;
                animation: scoreFloat 0.8s ease-out forwards;
            }

            @keyframes scoreFloat {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
                100% {
                    opacity: 0;
                    transform: translate(-50%, -120%) scale(1.5);
                }
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FOOTER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            .footer {
                text-align: center;
                padding: 24px;
                color: var(--text-muted);
                font-size: 13px;
                width: 100%;
            }

            .footer a {
                color: var(--accent);
                text-decoration: none;
                font-weight: 600;
            }

            .footer a:hover {
                text-decoration: underline;
            }

            .footer-links {
                display: flex;
                justify-content: center;
                gap: 16px;
                margin-top: 8px;
                flex-wrap: wrap;
            }

            .footer-links a {
                color: var(--text-muted);
                font-weight: 500;
                font-size: 12px;
                transition: color 0.2s;
            }

            .footer-links a:hover {
                color: var(--accent);
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ANIMATIONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            @media (max-width: 640px) {
                .main-content {
                    padding: 80px 16px 60px;
                    gap: 28px;
                }

                .status-grid {
                    grid-template-columns: 1fr;
                    gap: 10px;
                }

                .status-card {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    text-align: left;
                    padding: 14px 18px;
                }

                .status-icon {
                    margin-bottom: 0;
                    font-size: 24px;
                }

                .game-container {
                    padding: 16px;
                }

                .game-board {
                    padding: 6px;
                }

                .grid-bg {
                    gap: 6px;
                }

                .game-header {
                    flex-direction: column;
                    gap: 12px;
                    align-items: center;
                }

                .mobile-controls {
                    display: block;
                }

                .game-instructions .desktop-only {
                    display: none;
                }

                .navbar {
                    padding: 10px 16px;
                }

                .navbar-title {
                    font-size: 15px;
                }

                .countdown-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 8px;
                }

                .social-link {
                    padding: 10px 16px;
                    font-size: 13px;
                }

                .social-link span {
                    display: none;
                }
            }

            @media (min-width: 641px) {
                .game-instructions .mobile-only {
                    display: none;
                }
            }
        </style>
    </head>
    <body>
        <!-- Animated Construction Stripe -->
        <div class="construction-stripe"></div>
        <div class="construction-stripe construction-stripe-bottom"></div>

        <!-- Particle Background -->
        <canvas id="particles-canvas"></canvas>

        <!-- Navigation -->
        <nav class="navbar">
            <a href="#" class="navbar-brand">
                <div class="navbar-logo">K</div>
                <span class="navbar-title">klefas.me</span>
            </a>
            <div class="navbar-actions">
                <button
                    class="theme-toggle"
                    id="themeToggle"
                    aria-label="PrzeÅ‚Ä…cz motyw"
                >
                    <span class="icon-sun">â˜€ï¸</span>
                    <span class="icon-moon">ğŸŒ™</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Hero -->
            <section class="hero">
                <div class="hero-badge">
                    <span class="dot"></span>
                    Strona w budowie
                </div>
                <h1>
                    JuÅ¼ <span class="gradient-text">niedÅ‚ugo</span><br />
                    tu wrÃ³cÄ™.
                </h1>
                <p class="hero-description">
                    PracujÄ™ nad czymÅ› wyjÄ…tkowym. W miÄ™dzyczasie â€” pobij mÃ³j
                    rekord w grze poniÅ¼ej! ğŸ®
                </p>
                <div class="typing-text">
                    <span id="typingText"></span
                    ><span class="typing-cursor"></span>
                </div>
                <div class="hero-cta">
                    <a href="#game" class="btn btn-primary">ğŸ® Zagraj w 2048</a>
                    <a
                        href="https://github.com/0xR3TRO"
                        target="_blank"
                        rel="noopener"
                        class="btn btn-secondary"
                    >
                        <svg
                            width="18"
                            height="18"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                        >
                            <path
                                d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
                            />
                        </svg>
                        GitHub
                    </a>
                </div>
            </section>

            <!-- Status Cards -->
            <section class="status-grid">
                <div class="status-card">
                    <div class="status-icon">ğŸ”¨</div>
                    <div>
                        <div class="status-label">Status</div>
                        <div class="status-value">W budowie</div>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">ğŸ“…</div>
                    <div>
                        <div class="status-label">Premiera</div>
                        <div class="status-value">WkrÃ³tce</div>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">â˜•</div>
                    <div>
                        <div class="status-label">Kawa</div>
                        <div class="status-value" id="coffeeCount">âˆ</div>
                    </div>
                </div>
            </section>

            <!-- Countdown Timer -->
            <section class="countdown-section">
                <div class="section-header">
                    <h2>â° Odliczanie do premiery</h2>
                    <p>Czas leci â€” ale nie tak szybko jak chciaÅ‚bym!</p>
                </div>
                <div class="countdown-grid">
                    <div class="countdown-item">
                        <div class="countdown-value" id="countdown-days">
                            00
                        </div>
                        <div class="countdown-label">Dni</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-value" id="countdown-hours">
                            00
                        </div>
                        <div class="countdown-label">Godzin</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-value" id="countdown-minutes">
                            00
                        </div>
                        <div class="countdown-label">Minut</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-value" id="countdown-seconds">
                            00
                        </div>
                        <div class="countdown-label">Sekund</div>
                    </div>
                </div>
            </section>

            <!-- Social Links -->
            <section class="social-section">
                <div class="section-header">
                    <h2>ğŸ”— ZnajdÅº mnie</h2>
                    <p>Moje profile w sieci</p>
                </div>
                <div class="social-grid">
                    <a
                        href="https://github.com/0xR3TRO"
                        target="_blank"
                        rel="noopener"
                        class="social-link"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
                            />
                        </svg>
                        <span>GitHub</span>
                    </a>
                    <a
                        href="https://discord.gg/"
                        target="_blank"
                        rel="noopener"
                        class="social-link"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"
                            />
                        </svg>
                        <span>Discord</span>
                    </a>
                    <a href="mailto:kontakt@klefas.me" class="social-link">
                        <svg
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <rect x="2" y="4" width="20" height="16" rx="2" />
                            <path
                                d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"
                            />
                        </svg>
                        <span>E-mail</span>
                    </a>
                </div>
            </section>

            <!-- Game Section -->
            <section class="game-section" id="game">
                <div class="section-header">
                    <h2>ğŸ® Gra 2048</h2>
                    <p>PoÅ‚Ä…cz kafelki, aby osiÄ…gnÄ…Ä‡ 2048!</p>
                </div>
                <div class="game-container">
                    <!-- Header: Title + Scores -->
                    <div class="game-header">
                        <div class="game-title-block">
                            <h3>2048</h3>
                        </div>
                        <div class="score-board">
                            <div class="score-box">
                                <div class="label">Wynik</div>
                                <div class="value" id="current-score">0</div>
                            </div>
                            <div class="score-box">
                                <div class="label">Rekord</div>
                                <div class="value" id="best-score">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Game Board -->
                    <div class="game-board" id="gameBoard">
                        <div class="grid-bg">
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                        </div>
                        <div class="tiles-container" id="tilesContainer"></div>
                        <!-- Overlays -->
                        <div class="game-overlay" id="gameOverOverlay">
                            <h3>Koniec gry ğŸ’€</h3>
                            <p>Wynik: <span id="finalScore">0</span></p>
                            <button class="game-btn" onclick="game.restart()">
                                ğŸ”„ Zagraj ponownie
                            </button>
                        </div>
                        <div class="game-overlay" id="winOverlay">
                            <h3>WygraÅ‚eÅ›! ğŸ‰</h3>
                            <p>OsiÄ…gnÄ…Å‚eÅ› 2048!</p>
                            <button
                                class="game-btn"
                                onclick="game.continueAfterWin()"
                            >
                                â–¶ï¸ Graj dalej
                            </button>
                            <button class="game-btn" onclick="game.restart()">
                                ğŸ”„ Nowa gra
                            </button>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="game-controls">
                        <button class="game-btn" onclick="game.restart()">
                            ğŸ”„ Nowa gra
                        </button>
                        <button class="game-btn" onclick="game.undo()">
                            â†©ï¸ Cofnij
                        </button>
                    </div>

                    <!-- Mobile D-Pad -->
                    <div class="mobile-controls">
                        <div class="dpad">
                            <div class="dpad-btn empty"></div>
                            <button class="dpad-btn" data-dir="up">â–²</button>
                            <div class="dpad-btn empty"></div>
                            <button class="dpad-btn" data-dir="left">â—€</button>
                            <div class="dpad-btn empty"></div>
                            <button class="dpad-btn" data-dir="right">â–¶</button>
                            <div class="dpad-btn empty"></div>
                            <button class="dpad-btn" data-dir="down">â–¼</button>
                            <div class="dpad-btn empty"></div>
                        </div>
                    </div>

                    <!-- Instructions -->
                    <p class="game-instructions">
                        <span class="desktop-only">
                            UÅ¼yj <kbd>â†</kbd> <kbd>â†’</kbd> <kbd>â†‘</kbd>
                            <kbd>â†“</kbd> lub <kbd>W</kbd> <kbd>A</kbd>
                            <kbd>S</kbd> <kbd>D</kbd> aby przesuwaÄ‡ kafelki.
                        </span>
                        <span class="mobile-only">
                            PrzesuÅ„ palcem po planszy lub uÅ¼yj przyciskÃ³w
                            poniÅ¼ej.
                        </span>
                    </p>
                </div>
            </section>

            <!-- Footer -->
            <footer class="footer">
                <p>
                    Â© 2026
                    <a
                        href="https://github.com/0xR3TRO"
                        target="_blank"
                        rel="noopener"
                        >klefas.me</a
                    >
                    Â· Zbudowane z â¤ï¸ i duÅ¼Ä… iloÅ›ciÄ… â˜•
                </p>
                <div class="footer-links">
                    <a
                        href="https://github.com/0xR3TRO"
                        target="_blank"
                        rel="noopener"
                        >GitHub</a
                    >
                    <a href="mailto:kontakt@klefas.me">Kontakt</a>
                    <a href="#game">Zagraj w 2048</a>
                </div>
            </footer>
        </main>

        <script>
            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       THEME SYSTEM
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            (() => {
                const html = document.documentElement;
                const toggle = document.getElementById("themeToggle");

                // Detect system preference
                const prefersDark = window.matchMedia(
                    "(prefers-color-scheme: dark)",
                );
                const stored = localStorage.getItem("theme");

                function applyTheme(theme) {
                    html.setAttribute("data-theme", theme);
                    localStorage.setItem("theme", theme);
                }

                // Init: use saved, else system, else dark
                if (stored) {
                    applyTheme(stored);
                } else {
                    applyTheme(prefersDark.matches ? "dark" : "light");
                }

                // Toggle button
                toggle.addEventListener("click", () => {
                    const current = html.getAttribute("data-theme");
                    applyTheme(current === "dark" ? "light" : "dark");
                });

                // Listen for system theme changes (if no manual override)
                prefersDark.addEventListener("change", (e) => {
                    if (!localStorage.getItem("theme")) {
                        applyTheme(e.matches ? "dark" : "light");
                    }
                });
            })();

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PARTICLE BACKGROUND
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            (() => {
                const canvas = document.getElementById("particles-canvas");
                const ctx = canvas.getContext("2d");
                let particles = [];
                let w, h;
                const PARTICLE_COUNT = 60;

                function resize() {
                    w = canvas.width = window.innerWidth;
                    h = canvas.height = window.innerHeight;
                }

                function createParticle() {
                    return {
                        x: Math.random() * w,
                        y: Math.random() * h,
                        vx: (Math.random() - 0.5) * 0.4,
                        vy: (Math.random() - 0.5) * 0.4,
                        r: Math.random() * 2 + 1,
                        alpha: Math.random() * 0.3 + 0.1,
                    };
                }

                function init() {
                    resize();
                    particles = [];
                    for (let i = 0; i < PARTICLE_COUNT; i++) {
                        particles.push(createParticle());
                    }
                }

                function draw() {
                    ctx.clearRect(0, 0, w, h);
                    const isDark =
                        document.documentElement.getAttribute("data-theme") ===
                        "dark";
                    const baseColor = isDark ? "108, 99, 255" : "108, 99, 255";

                    particles.forEach((p, i) => {
                        p.x += p.vx;
                        p.y += p.vy;

                        if (p.x < 0) p.x = w;
                        if (p.x > w) p.x = 0;
                        if (p.y < 0) p.y = h;
                        if (p.y > h) p.y = 0;

                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(${baseColor}, ${p.alpha})`;
                        ctx.fill();

                        // Draw connections
                        for (let j = i + 1; j < particles.length; j++) {
                            const p2 = particles[j];
                            const dx = p.x - p2.x;
                            const dy = p.y - p2.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            if (dist < 150) {
                                ctx.beginPath();
                                ctx.moveTo(p.x, p.y);
                                ctx.lineTo(p2.x, p2.y);
                                ctx.strokeStyle = `rgba(${baseColor}, ${0.06 * (1 - dist / 150)})`;
                                ctx.lineWidth = 1;
                                ctx.stroke();
                            }
                        }
                    });

                    requestAnimationFrame(draw);
                }

                window.addEventListener("resize", resize);
                init();
                draw();
            })();

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       2048 GAME ENGINE (fully rewritten)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            class Game2048 {
                constructor() {
                    this.size = 4;
                    this.board = [];
                    this.score = 0;
                    this.bestScore = parseInt(
                        localStorage.getItem("best2048") || "0",
                    );
                    this.won = false;
                    this.over = false;
                    this.keepPlaying = false;
                    this.previousState = null;
                    this.previousScore = 0;
                    this.tileId = 0;
                    this.moveLock = false;

                    this.boardEl = document.getElementById("gameBoard");
                    this.tilesEl = document.getElementById("tilesContainer");
                    this.scoreEl = document.getElementById("current-score");
                    this.bestEl = document.getElementById("best-score");
                    this.overOverlay =
                        document.getElementById("gameOverOverlay");
                    this.winOverlay = document.getElementById("winOverlay");

                    this.bestEl.textContent = this.bestScore;

                    this.setupInput();
                    this.restart();
                }

                restart() {
                    this.board = Array.from({ length: this.size }, () =>
                        Array(this.size).fill(null),
                    );
                    this.score = 0;
                    this.won = false;
                    this.over = false;
                    this.keepPlaying = false;
                    this.previousState = null;
                    this.tileId = 0;
                    this.moveLock = false;
                    this.scoreEl.textContent = "0";
                    this.overOverlay.classList.remove("active");
                    this.winOverlay.classList.remove("active");

                    this.addRandomTile();
                    this.addRandomTile();
                    this.render();
                }

                continueAfterWin() {
                    this.keepPlaying = true;
                    this.winOverlay.classList.remove("active");
                }

                /* â”€â”€ Tile Management â”€â”€ */
                getEmptyCells() {
                    const cells = [];
                    for (let r = 0; r < this.size; r++)
                        for (let c = 0; c < this.size; c++)
                            if (!this.board[r][c]) cells.push({ r, c });
                    return cells;
                }

                addRandomTile() {
                    const empty = this.getEmptyCells();
                    if (!empty.length) return;
                    const { r, c } =
                        empty[Math.floor(Math.random() * empty.length)];
                    const value = Math.random() < 0.9 ? 2 : 4;
                    this.board[r][c] = {
                        value,
                        id: ++this.tileId,
                        isNew: true,
                        merged: false,
                    };
                }

                /* â”€â”€ Core Movement Logic â”€â”€ */
                move(direction) {
                    if (this.over || (this.won && !this.keepPlaying)) return;
                    if (this.moveLock) return;

                    const vectors = {
                        up: { dr: -1, dc: 0 },
                        down: { dr: 1, dc: 0 },
                        left: { dr: 0, dc: -1 },
                        right: { dr: 0, dc: 1 },
                    };
                    const v = vectors[direction];
                    if (!v) return;

                    // Save state for undo
                    this.previousState = this.board.map((row) =>
                        row.map((cell) => (cell ? { ...cell } : null)),
                    );
                    this.previousScore = this.score;

                    // Clear animation flags
                    for (let r = 0; r < this.size; r++)
                        for (let c = 0; c < this.size; c++)
                            if (this.board[r][c]) {
                                this.board[r][c].isNew = false;
                                this.board[r][c].merged = false;
                            }

                    let moved = false;

                    // Build traversal order depending on direction
                    const rows = [...Array(this.size).keys()];
                    const cols = [...Array(this.size).keys()];
                    if (v.dr === 1) rows.reverse();
                    if (v.dc === 1) cols.reverse();

                    for (const r of rows) {
                        for (const c of cols) {
                            const cell = this.board[r][c];
                            if (!cell) continue;

                            // Find farthest empty position in direction
                            let nr = r;
                            let nc = c;
                            let mergeTarget = null;

                            while (true) {
                                const tr = nr + v.dr;
                                const tc = nc + v.dc;
                                if (
                                    tr < 0 ||
                                    tr >= this.size ||
                                    tc < 0 ||
                                    tc >= this.size
                                )
                                    break;

                                if (this.board[tr][tc]) {
                                    // Found a tile â€” can we merge?
                                    if (
                                        this.board[tr][tc].value ===
                                            cell.value &&
                                        !this.board[tr][tc].merged
                                    ) {
                                        mergeTarget = { r: tr, c: tc };
                                    }
                                    break;
                                }

                                // Empty cell â€” keep moving
                                nr = tr;
                                nc = tc;
                            }

                            if (mergeTarget) {
                                // Merge into target
                                const newValue = cell.value * 2;
                                this.board[mergeTarget.r][mergeTarget.c] = {
                                    value: newValue,
                                    id: ++this.tileId,
                                    isNew: false,
                                    merged: true,
                                };
                                this.board[r][c] = null;
                                this.score += newValue;
                                moved = true;

                                if (
                                    newValue === 2048 &&
                                    !this.won &&
                                    !this.keepPlaying
                                ) {
                                    this.won = true;
                                }
                            } else if (nr !== r || nc !== c) {
                                // Slide to farthest empty cell
                                this.board[nr][nc] = cell;
                                this.board[r][c] = null;
                                moved = true;
                            }
                        }
                    }

                    if (moved) {
                        // Brief lock to prevent rapid-fire moves before render
                        this.moveLock = true;

                        this.addRandomTile();
                        this.updateScore();
                        this.render();

                        if (this.won && !this.keepPlaying) {
                            this.winOverlay.classList.add("active");
                        }

                        if (!this.movesAvailable()) {
                            this.over = true;
                            document.getElementById("finalScore").textContent =
                                this.score;
                            this.overOverlay.classList.add("active");
                        }

                        // Unlock after animation
                        setTimeout(() => {
                            this.moveLock = false;
                        }, 160);
                    } else {
                        // Nothing moved â€” discard undo snapshot
                        this.previousState = null;
                    }
                }

                undo() {
                    if (!this.previousState) return;
                    this.board = this.previousState;
                    this.score = this.previousScore;
                    this.previousState = null;
                    this.won = false;
                    this.over = false;
                    this.overOverlay.classList.remove("active");
                    this.winOverlay.classList.remove("active");
                    this.updateScore();
                    this.render();
                }

                movesAvailable() {
                    if (this.getEmptyCells().length > 0) return true;
                    for (let r = 0; r < this.size; r++) {
                        for (let c = 0; c < this.size; c++) {
                            const val = this.board[r][c]?.value;
                            if (!val) continue;
                            if (
                                r < this.size - 1 &&
                                this.board[r + 1][c]?.value === val
                            )
                                return true;
                            if (
                                c < this.size - 1 &&
                                this.board[r][c + 1]?.value === val
                            )
                                return true;
                        }
                    }
                    return false;
                }

                updateScore() {
                    this.scoreEl.textContent = this.score;
                    if (this.score > this.bestScore) {
                        this.bestScore = this.score;
                        this.bestEl.textContent = this.bestScore;
                        localStorage.setItem("best2048", this.bestScore);
                    }
                }

                /* â”€â”€ Rendering â”€â”€ */
                render() {
                    this.tilesEl.innerHTML = "";

                    const containerRect = this.tilesEl.getBoundingClientRect();
                    const cw = containerRect.width;
                    const gap = cw > 300 ? 8 : 6;
                    const tileSize = (cw - gap * (this.size - 1)) / this.size;

                    for (let r = 0; r < this.size; r++) {
                        for (let c = 0; c < this.size; c++) {
                            const cell = this.board[r][c];
                            if (!cell) continue;

                            const el = document.createElement("div");
                            const tileClass =
                                cell.value <= 2048
                                    ? `tile-${cell.value}`
                                    : "tile-super";
                            el.className = `tile ${tileClass}`;
                            if (cell.isNew) el.classList.add("tile-new");
                            if (cell.merged) el.classList.add("tile-merged");

                            const fontSize =
                                cell.value >= 1024
                                    ? tileSize * 0.28
                                    : cell.value >= 128
                                      ? tileSize * 0.35
                                      : tileSize * 0.42;

                            el.style.cssText = `
                        width: ${tileSize}px;
                        height: ${tileSize}px;
                        top: ${r * (tileSize + gap)}px;
                        left: ${c * (tileSize + gap)}px;
                        font-size: ${fontSize}px;
                        line-height: ${tileSize}px;
                    `;
                            el.textContent = cell.value;
                            this.tilesEl.appendChild(el);
                        }
                    }
                }

                /* â”€â”€ Input Setup â”€â”€ */
                setupInput() {
                    // Keyboard â€” arrow keys + WASD
                    document.addEventListener("keydown", (e) => {
                        const map = {
                            ArrowUp: "up",
                            ArrowDown: "down",
                            ArrowLeft: "left",
                            ArrowRight: "right",
                            w: "up",
                            W: "up",
                            s: "down",
                            S: "down",
                            a: "left",
                            A: "left",
                            d: "right",
                            D: "right",
                        };
                        const dir = map[e.key];
                        if (dir) {
                            e.preventDefault();
                            this.move(dir);
                        }
                    });

                    // Touch / Swipe on game board
                    const board = this.boardEl;
                    let touchStartX = null;
                    let touchStartY = null;
                    let touching = false;

                    board.addEventListener(
                        "touchstart",
                        (e) => {
                            if (e.touches.length !== 1) return;
                            const t = e.touches[0];
                            touchStartX = t.clientX;
                            touchStartY = t.clientY;
                            touching = true;
                        },
                        { passive: false },
                    );

                    board.addEventListener(
                        "touchmove",
                        (e) => {
                            if (touching) e.preventDefault();
                        },
                        { passive: false },
                    );

                    board.addEventListener(
                        "touchend",
                        (e) => {
                            if (!touching || touchStartX === null) return;
                            touching = false;
                            const t = e.changedTouches[0];
                            const dx = t.clientX - touchStartX;
                            const dy = t.clientY - touchStartY;
                            const absDx = Math.abs(dx);
                            const absDy = Math.abs(dy);
                            const minSwipe = 20;

                            touchStartX = null;
                            touchStartY = null;

                            if (Math.max(absDx, absDy) < minSwipe) return;

                            if (absDx > absDy) {
                                this.move(dx > 0 ? "right" : "left");
                            } else {
                                this.move(dy > 0 ? "down" : "up");
                            }
                        },
                        { passive: false },
                    );

                    board.addEventListener(
                        "touchcancel",
                        () => {
                            touching = false;
                            touchStartX = null;
                            touchStartY = null;
                        },
                        { passive: true },
                    );

                    // Mouse drag on game board (for desktop without keyboard)
                    let mouseDown = false,
                        mx,
                        my;
                    board.addEventListener("mousedown", (e) => {
                        mouseDown = true;
                        mx = e.clientX;
                        my = e.clientY;
                        e.preventDefault();
                    });
                    window.addEventListener("mouseup", (e) => {
                        if (!mouseDown) return;
                        mouseDown = false;
                        const dx = e.clientX - mx;
                        const dy = e.clientY - my;
                        const absDx = Math.abs(dx);
                        const absDy = Math.abs(dy);
                        if (Math.max(absDx, absDy) < 20) return;
                        if (absDx > absDy) {
                            this.move(dx > 0 ? "right" : "left");
                        } else {
                            this.move(dy > 0 ? "down" : "up");
                        }
                    });

                    // D-Pad mobile buttons (use event delegation, no double fire)
                    document
                        .querySelectorAll(".dpad-btn[data-dir]")
                        .forEach((btn) => {
                            let handled = false;
                            btn.addEventListener(
                                "touchstart",
                                (e) => {
                                    e.preventDefault();
                                    if (!handled) {
                                        handled = true;
                                        this.move(btn.dataset.dir);
                                        setTimeout(() => {
                                            handled = false;
                                        }, 200);
                                    }
                                },
                                { passive: false },
                            );
                            btn.addEventListener("click", (e) => {
                                // Only fires on desktop (no touch)
                                if (!handled) {
                                    this.move(btn.dataset.dir);
                                }
                            });
                        });

                    // Re-render on resize for correct tile positioning
                    let resizeTimer;
                    window.addEventListener("resize", () => {
                        clearTimeout(resizeTimer);
                        resizeTimer = setTimeout(() => this.render(), 50);
                    });
                }
            }

            const game = new Game2048();

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       COUNTDOWN TIMER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            (() => {
                // Set launch date ~90 days from now (adjust as needed)
                const launchDate = new Date();
                launchDate.setDate(launchDate.getDate() + 90);
                launchDate.setHours(0, 0, 0, 0);

                // Save to localStorage so it persists across visits
                const savedDate = localStorage.getItem("launchDate");
                const targetDate = savedDate ? new Date(savedDate) : launchDate;
                if (!savedDate)
                    localStorage.setItem(
                        "launchDate",
                        launchDate.toISOString(),
                    );

                function updateCountdown() {
                    const now = new Date();
                    const diff = Math.max(0, targetDate - now);

                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor(
                        (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
                    );
                    const minutes = Math.floor(
                        (diff % (1000 * 60 * 60)) / (1000 * 60),
                    );
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                    document.getElementById("countdown-days").textContent =
                        String(days).padStart(2, "0");
                    document.getElementById("countdown-hours").textContent =
                        String(hours).padStart(2, "0");
                    document.getElementById("countdown-minutes").textContent =
                        String(minutes).padStart(2, "0");
                    document.getElementById("countdown-seconds").textContent =
                        String(seconds).padStart(2, "0");
                }

                updateCountdown();
                setInterval(updateCountdown, 1000);
            })();

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       TYPING ANIMATION
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            (() => {
                const texts = [
                    'git commit -m "building something awesome"',
                    "npm run build:portfolio",
                    'echo "Strona w budowie..."',
                    "while (true) { code(); coffee(); }",
                    'console.log("WkrÃ³tce tutaj bÄ™dzie coÅ› cool!");',
                    "sudo make me_a_website",
                ];
                const el = document.getElementById("typingText");
                let textIndex = 0;
                let charIndex = 0;
                let deleting = false;

                function typeStep() {
                    const currentText = texts[textIndex];

                    if (!deleting) {
                        el.textContent = currentText.slice(0, charIndex + 1);
                        charIndex++;
                        if (charIndex >= currentText.length) {
                            deleting = true;
                            setTimeout(typeStep, 2000);
                            return;
                        }
                        setTimeout(typeStep, 50 + Math.random() * 40);
                    } else {
                        el.textContent = currentText.slice(0, charIndex - 1);
                        charIndex--;
                        if (charIndex <= 0) {
                            deleting = false;
                            textIndex = (textIndex + 1) % texts.length;
                            setTimeout(typeStep, 500);
                            return;
                        }
                        setTimeout(typeStep, 25);
                    }
                }

                setTimeout(typeStep, 1000);
            })();

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SMOOTH SCROLL FOR ANCHOR LINKS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
                anchor.addEventListener("click", function (e) {
                    e.preventDefault();
                    const target = document.querySelector(
                        this.getAttribute("href"),
                    );
                    if (target)
                        target.scrollIntoView({
                            behavior: "smooth",
                            block: "start",
                        });
                });
            });
        </script>
    </body>
</html>
